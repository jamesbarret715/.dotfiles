#
# refind.conf
# Configuration file for the rEFInd boot menu
#

# --- Menu Options ---

#shutdown_after_timeout

use_nvram false

screensaver 0

#textonly
#textmode 2

#resolution 0 

icons_dir icons
#small_icon_size 96
#big_icon_size 256

#banner banner.png

# - Timeout -
#
#  -1 - Boot immediately unless a keypress is ALREADY in the buffer
#   0 - No timeout
#  1+ - Time in seconds

timeout 10

# - Logging Level -
#
#  0 - no logging
#  4 - maximum logging

log_level 1

# - Hide Menu Elements -
#
#  banner      - the rEFInd title banner (built-in or loaded via "banner")
#  label       - boot option text label in the menu
#  singleuser  - remove the submenu options to boot macOS in single-user
#                or verbose modes; affects ONLY macOS
#  safemode    - remove the submenu option to boot macOS in "safe mode"
#  hwtest      - the submenu option to run Apple's hardware test
#  arrows      - scroll arrows on the OS selection tag line
#  hints       - brief command summary in the menu
#  editor      - the options editor (+, F2, or Insert on boot options menu)
#  badges      - device-type badges for boot options
#  all         - all of the above

#hideui 

# - Banner Scaling -
#
#  noscale     - Crop if too big, show with border if too small
#  fillscreen  - Fill the screen

banner_scale noscale 

# - Selection Icons - 
#
#   big   - 144x144px
#   small - 64x64px

#selection_big   selection-big.bmp
#selection_small selection-small.bmp

# - Menu Font -
#
# For best results, the font must be a PNG file with alpha channel
# transparency. It must contain ASCII characters 32-126 (space through
# tilde), inclusive, plus a glyph to be displayed in place of characters
# outside of this range, for a total of 96 glyphs. Only monospaced fonts
# are supported. Fonts may be of any size, although large fonts can
# produce display irregularities.
# The default is rEFInd's built-in font, Luxi Mono Regular 12 point.

#font myfont.png


# --- Mouse and Touch ---

#enable_touch
enable_mouse

mouse_size 16
mouse_speed 4

# --- Graphics Mode ---
#
#   osx     - macOS
#   linux   - A Linux kernel with EFI stub loader
#   elilo   - The ELILO boot loader
#   grub    - The GRUB (Legacy or 2) boot loader
#   windows - Microsoft Windows

use_graphics_for osx

# --- Menu Tools ---
#  
#  shell            - the EFI shell (requires external program; see rEFInd
#                     documentation for details)
#  memtest          - the memtest86 program, in EFI/tools, EFI/memtest86,
#                     EFI/memtest, EFI/tools/memtest86, or EFI/tools/memtest
#  gptsync          - the (dangerous) gptsync.efi utility (requires external
#                     program; see rEFInd documentation for details)
#  gdisk            - the gdisk partitioning program
#  apple_recovery   - boots the Apple Recovery HD partition, if present
#  windows_recovery - boots an OEM Windows recovery tool, if present
#                     (see also the windows_recovery_files option)
#  mok_tool         - makes available the Machine Owner Key (MOK) maintenance
#                     tool, MokManager.efi, used on Secure Boot systems
#  csr_rotate       - adjusts Apple System Integrity Protection (SIP)
#                     policy. Requires "csr_values" to be set.
#  install          - an option to install rEFInd from the current location
#                     to another ESP
#  bootorder        - adjust the EFI's (NOT rEFInd's) boot order
#  about            - an "about this program" option
#  hidden_tags      - manage hidden tags
#  exit             - a tag to exit from rEFInd
#  shutdown         - shuts down the computer (a bug causes this to reboot
#                     many UEFI systems)
#  reboot           - a tag to reboot the computer
#  firmware         - a tag to reboot the computer into the firmware's
#                     user interface (ignored on older computers)
#  fwupdate         - a tag to update the firmware; launches the fwupx64.efi
#                     (or similar) program
#  netboot          - launch the ipxe.efi tool for network (PXE) booting

showtools shell, bootorder, gdisk, memtest, mok_tool, apple_recovery, windows_recovery, about, hidden_tags, reboot, exit, firmware, fwupdate

# --- Scan Options ---
#
#  scanfor options (in order of display):
#	 internal      - internal EFI disk-based boot loaders
# 	 external      - external EFI disk-based boot loaders
#  	 optical       - EFI optical discs (CD, DVD, etc.)
#    netboot       - EFI network (PXE) boot options
#    hdbios        - BIOS disk-based boot loaders
#    biosexternal  - BIOS external boot loaders (USB, eSATA, etc.)
#    cd            - BIOS optical-disc boot loaders
#    manual        - use stanzas later in this configuration file
#    firmware      - boot EFI programs set in the firmware's NVRAM

scan_delay 0
scanfor internal,external,optical,manual
uefi_deep_legacy_scan false 

scan_driver_dirs EFI/tools/drivers,drivers
scan_all_linux_kernels false

also_scan_dirs boot

# - Locations to Ignore -

dont_scan_volumes "Recovery HD"
dont_scan_dirs ESP:/EFI/boot,EFI/Dell,EFI/memtest86
dont_scan_files shim.efi,MokManager.efi
dont_scan_tools ESP2:/EFI/ubuntu/mmx64.efi,gptsync_x64.efi


# --- Maximum No. of Tags ---
#  
#  - Any numeber of tags to show at maximum
#  - "0" indicates to automatically scale to the monitor's resolution

max_tags 0

# --- Default Selection --
#
#  - A digit between 1 and 9, in which case the Nth loader in the menu
#    will be the default.
#  - A "+" symbol at the start of the string, which refers to the most
#    recently booted loader.
#  - Any substring that corresponds to a portion of the loader's title
#    (usually the OS's name, boot loader's path, or a volume or
#    filesystem title).
#  - Specify multiple options by surrouding entries in quotes and
#    separated by commas
#  - Follow the selector with two 24-hour times for that entry to only
#    apply during those times

default_selection "+"

#  --- Menu Entries ---
#
#  volume    - identifies the filesystem from which subsequent files
#              are loaded. You can specify the volume by filesystem
#              label, by partition label, or by partition GUID number
#              (but NOT yet by filesystem UUID number).
#  loader    - identifies the boot loader file
#  initrd    - Specifies an initial RAM disk file
#  icon      - specifies a custom boot loader icon
#  ostype    - OS type code to determine boot options available by
#              pressing Insert. Valid values are "MacOS", "Linux",
#              "Windows", and "XOM". Case-sensitive.
#  graphics  - set to "on" to enable graphics-mode boot (useful
#              mainly for MacOS) or "off" for text-mode boot.
#              Default is auto-detected from loader filename.
#  options   - sets options to be passed to the boot loader; use
#              quotes if more than one option should be passed or
#              if any options use characters that might be changed
#              by rEFInd parsing procedures (=, /, #, or tab).
#  disabled  - use alone or set to "yes" to disable this entry.

menuentry "Artix Linux" {
	icon     /EFI/refind/icons/os_artix.png
	volume   "ROOT"
	loader   /boot/vmlinuz-linux-zen
	initrd   /boot/initramfs-linux-zen.img
	options  "ro quiet splash root=LABEL=ROOT initrd=boot\initramfs-linux-zen.img"
}

menuentry "Windows 10" {
	icon   /EFI/refind/icons/os_win.png
	loader /EFI/Microsoft/Boot/bootmgfw.efi
}
